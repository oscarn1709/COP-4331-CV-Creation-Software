# SQL commands to create and populate the MySQL database for Group Project
#
# delete the database if it already exists
drop database if exists CV_DB;

# create a new database named eventdb
create database CV_DB;

# switch to the new database
use CV_DB;


CREATE TABLE user (
    uid INTEGER NOT NULL AUTO_INCREMENT,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(50) NOT NULL,
    PRIMARY KEY (uid)
);

CREATE TABLE informaiton (
    infoid INTEGER NOT NULL AUTO_INCREMENT,
    uid INTEGER,
    name VARCHAR(50),
    address VARCHAR(70),
    email VARCHAR(60),
    phone VARCHAR(12),
    skills VARCHAR (1000),
    PRIMARY KEY (infoid, uid),
    FOREIGN KEY (uid)
        REFERENCES user (uid) ON DELETE CASCADE
);

CREATE TABLE education (
    eid INTEGER NOT NULL AUTO_INCREMENT,
    uid INTEGER,
    university VARCHAR(70),
    degree VARCHAR(50),
    major VARCHAR(50),
    gpa VARCHAR(5),
    PRIMARY KEY (eid, uid),
    FOREIGN KEY (uid)
        REFERENCES user (uid) ON DELETE CASCADE
);

CREATE TABLE work (
    wid INTEGER NOT NULL AUTO_INCREMENT,
    uid INTEGER,
    company VARCHAR(70),
    title VARCHAR(50),
    begin VARCHAR(20),
    end VARCHAR(20),
    resp VARCHAR(1000),
    PRIMARY KEY (wid, uid),
    FOREIGN KEY (uid)
        REFERENCES user (uid) ON DELETE CASCADE
);